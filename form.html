<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Multi-step Student Form</title>
  <style>
    :root{font-family:system-ui,-apple-system,Segoe UI,Roboto,'Helvetica Neue',Arial;}
    body{display:flex;align-items:center;justify-content:center;min-height:100vh;background:#f7fafc;margin:0;padding:20px}
    .card{background:white;border-radius:12px;box-shadow:0 6px 22px rgba(10,20,30,0.08);width:100%;max-width:480px;padding:24px}
    h1{font-size:20px;margin:0 0 16px}
    .steps{display:flex;gap:8px;margin-bottom:18px}
    .step{flex:1;height:8px;background:#e6eef8;border-radius:999px;position:relative;overflow:hidden}
    .step.active{background:#cfe3ff}
    .form-step{display:none}
    .form-step.active{display:block}
    label{display:block;font-size:14px;margin-bottom:6px}
    input[type=text], input[type=email]{width:100%;padding:10px;border-radius:8px;border:1px solid #d7dde6;font-size:15px}
    .controls{display:flex;justify-content:space-between;margin-top:18px}
    button{padding:10px 14px;border-radius:8px;border:0;font-size:14px;cursor:pointer}
    .btn-primary{background:#2563eb;color:white}
    .btn-ghost{background:transparent;color:#374151;border:1px solid #e6eef8}
    .summary {background:#fbfdff;border:1px dashed #e1eefb;padding:12px;border-radius:8px}
    .field-row{margin-bottom:10px}
    .muted{color:#6b7280;font-size:13px}
  </style>
</head>
<body>
  <div class="card" role="form" aria-labelledby="formTitle">
    <h1 id="formTitle">Student registration</h1>

    <div class="steps" aria-hidden="true">
      <div class="step" id="bar-0"></div>
      <div class="step" id="bar-1"></div>
    </div>

    <form id="multiStepForm" novalidate>
      <!-- Step 1 -->
      <div class="form-step" data-step="0">
        <label for="name">Full name</label>
        <input id="name" name="name" type="text" placeholder="e.g. Ananya Rao" required />

        <label for="email" style="margin-top:12px">Email address</label>
        <input id="email" name="email" type="email" placeholder="you@example.com" required />
        <p class="muted">Enter both your name and email.</p>
      </div>
      <!-- Step 2 (Summary) -->
      <div class="form-step" data-step="2">
        <h2 style="font-size:16px;margin:0 0 8px">Summary</h2>
        <div class="summary" id="summaryBox">
          <div class="field-row"><strong>Name:</strong> <span id="summaryName">—</span></div>
          <div class="field-row"><strong>Email:</strong> <span id="summaryEmail">—</span></div>
        </div>
        <p class="muted" style="margin-top:10px">Use Back to edit, or Submit to finish.</p>
      </div>

      <div class="controls">
        <button type="button" class="btn-ghost" id="backBtn" aria-label="Go back">Back</button>
        <div style="display:flex;gap:8px">
          <button type="button" id="nextBtn" class="btn-primary" aria-label="Next step">Next</button>
          <button type="submit" id="submitBtn" class="btn-primary" style="display:none">Submit</button>
        </div>
      </div>
    </form>
  </div>

  <script>
    (function(){
      const form = document.getElementById('multiStepForm');
      const steps = Array.from(document.querySelectorAll('.form-step'));
      const bars = [document.getElementById('bar-0'), document.getElementById('bar-1')];
      const nextBtn = document.getElementById('nextBtn');
      const backBtn = document.getElementById('backBtn');
      const submitBtn = document.getElementById('submitBtn');
      const summaryName = document.getElementById('summaryName');
      const summaryEmail = document.getElementById('summaryEmail');

      let current = 0;

      function showStep(index){
        steps.forEach((s,i)=> s.classList.toggle('active', i===index));
        bars.forEach((b,i)=> b.classList.toggle('active', i<=index));
        backBtn.disabled = index === 0;
        // toggle button visibility
        if(index === steps.length - 1){
          nextBtn.style.display = 'none';
          submitBtn.style.display = '';
        } else {
          nextBtn.style.display = '';
          submitBtn.style.display = 'none';
        }
      }

      function updateSummary(){
        const name = document.getElementById('name').value.trim();
        const email = document.getElementById('email').value.trim();
        summaryName.textContent = name || '—';
        summaryEmail.textContent = email || '—';
      }

      nextBtn.addEventListener('click', ()=>{
        // simple validation for current step
        const inputs = steps[current].querySelectorAll('input');
        for(const input of inputs){
          if(!input.checkValidity()){
            input.reportValidity();
            return;
          }
        }
        current = Math.min(current + 1, steps.length - 1);
        if(current === steps.length - 1) updateSummary();
        showStep(current);
      });

      backBtn.addEventListener('click', ()=>{
        current = Math.max(current - 1, 0);
        showStep(current);
      });

      // update summary live when user edits fields while on summary step
      document.getElementById('name').addEventListener('input', ()=>{ if(current===steps.length-1) updateSummary(); });
      document.getElementById('email').addEventListener('input', ()=>{ if(current===steps.length-1) updateSummary(); });

      form.addEventListener('submit', (e)=>{
        e.preventDefault();
        // final validation
        const allInputs = form.querySelectorAll('input');
        for(const input of allInputs){
          if(!input.checkValidity()){
            // move to the step with the invalid input
            const parentIndex = steps.findIndex(s => s.contains(input));
            current = parentIndex >= 0 ? parentIndex : current;
            showStep(current);
            input.reportValidity();
            return;
          }
        }

        // gather data
        const data = {
          name: document.getElementById('name').value.trim(),
          email: document.getElementById('email').value.trim()
        };

        // demo: show JSON – replace with actual submit logic
        alert('Form submitted:\n' + JSON.stringify(data, null, 2));
        form.reset();
        current = 0;
        showStep(current);
        updateSummary();
      });

      // initialise
      showStep(current);
    })();
  </script>
</body>
</html>
